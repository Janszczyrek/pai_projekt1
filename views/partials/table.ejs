<% if (typeof tenders !== 'undefined' && tenders.length > 0) { %>
    <table class = "tenders-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Orderer</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
            <% tenders.forEach(tender => { %>
                <% const isTenderActive = new Date(tender.end_time) > new Date(); %>
                <tr>
                    <td><%= tender.id %></td>
                    <td><%= tender.name %></td>
                    <td><%= tender.orderer %></td>
                    <% if (isTenderActive) { %>
                        <td><%= new Date(tender.start_time).toLocaleString() %></td>
                        <td><%= new Date(tender.end_time).toLocaleString() %></td>
                    <% } else { %>
                        <td class="closed" colspan="2">Tender Closed</td>
                        <% } %>
                    <td><a href="/tenders/<%= tender.id %>">View Details</a></td>
                </tr>
            <% }); %>
        </tbody>
    </table>
<% } else { %>
    <p>No tenders found.</p>
<% } %>